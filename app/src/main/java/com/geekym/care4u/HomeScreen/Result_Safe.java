package com.geekym.care4u.HomeScreen;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

import com.geekym.care4u.R;

public class Result_Safe extends AppCompatActivity {

    ImageView Dis;
    TextView Stat, Desc;
    Button Home;
    String result ="";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getSupportActionBar().hide();
        setContentView(R.layout.activity_result_safe);

        Dis = findViewById(R.id.imageView4);
        Stat = findViewById(R.id.statusnone);
        Desc = findViewById(R.id.descnone);
        Home = findViewById(R.id.stathome);

        SharedPreferences st = getApplicationContext().getSharedPreferences("scanned", Context.MODE_PRIVATE);
        result=st.getString("res", "");

        if(result.equals("tus5s82@fjt")){
          //  Dis.setBackgroundResource(R.drawable.none);
            Dis.setImageDrawable(getResources().getDrawable(R.drawable.none));
            Stat.setText("Status: UNSAFE!");
            Desc.setText("The User is Not Vaccinated!");
        }else  if(result.equals("cwrn29328nvfhr")) {
            Dis.setImageDrawable(getResources().getDrawable(R.drawable.half));
            Stat.setText("Status: PARTIALLY SAFE");
            Desc.setText("The User is Partially Vaccinated!");
        }else if(result.equals("we0rmi3ir29njd")){
            Dis.setImageDrawable(getResources().getDrawable(R.drawable.full));
            Stat.setText("Status: SAFE!");
            Desc.setText("The User is Fully Vaccinated!");
        }else{
            Toast.makeText(Result_Safe.this, "The QR is Not generated by CaringYou App", Toast.LENGTH_SHORT).show();
         }

        Home.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent i = new Intent(Result_Safe.this, Homescreen.class);
                startActivity(i);
                finish();
            }
        });
    }
}